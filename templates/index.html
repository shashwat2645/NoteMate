{% extends 'base.html' %} 
{% block title %}Home{% endblock %} 
{% block content %}

<div class="container mt-5">
  <div
    class="hero-section text-center py-5 bg-primary text-white rounded shadow mb-4"
  >
    <h1 class="mb-2">Welcome to NoteMate üìù</h1>
    <p class="lead mb-3">
      Your personal space to create, organize, and manage notes.
    </p>
    <a href="{% url 'create_note' %}" class="btn btn-light btn-lg"
      >+ Create New Note</a
    >
  </div>

  {% if notes %}
  <div class="row g-4 note-grid">
    {% for note in notes %}
    <div class="col-md-4 col-sm-6 mb-3 animate__animated animate__fadeInUp">
      <div
        class="card h-100 shadow-sm"
        style="border-left: 5px solid '{{ note.color|default:'#0d6efd' }}';"
      >
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ note.title }}</h5>
          <p class="text-muted mb-2">{{ note.created_at|date:"M d, Y" }}</p>
          <p class="card-text flex-grow-1">
            {{ note.content|truncatechars:100 }}
          </p>

          <div class="d-flex justify-content-between mt-3 flex-wrap">
            <button
              type="button"
              class="btn btn-primary btn-sm mb-1"
              data-bs-toggle="modal"
              data-bs-target="#noteModal{{ note.id }}"
            >
              View
            </button>
            <a
              href="{% url 'edit_note' note.id %}"
              class="btn btn-warning btn-sm mb-1"
              >‚úèÔ∏è Edit</a
            >
            <form
              method="POST"
              action="{% url 'delete_note' note.id %}"
              class="d-inline mb-1"
            >
              {% csrf_token %}
              <button type="submit" class="btn btn-danger btn-sm">
                üóëÔ∏è Delete
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="noteModal{{ note.id }}" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">{{ note.title }}</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>{{ note.content }}</p>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>

<style>
  .card {
    transition: transform 0.2s, box-shadow 0.2s;
    border-radius: 12px;
  }
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }
  .card-title {
    font-weight: 600;
    color: #333;
  }
  .card-text {
    color: #555;
  }
  .hero-section {
    background: linear-gradient(135deg, #0d6efd, #6610f2);
  }
  .empty-state img {
    opacity: 0.8;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}
